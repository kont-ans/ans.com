<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>حسابي - اقتباس</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- الهيدر -->
        <header class="app-header">
            <div class="header-left">
                <a href="browse.html" class="back-btn">
                    <i class="fas fa-arrow-right"></i>
                </a>
            </div>
            
            <div class="header-center">
                <h1>حسابي</h1>
            </div>
            
            <div class="header-right">
                <button class="icon-btn" id="settingsBtn">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
        </header>
        
        <!-- معلومات الملف الشخصي -->
        <section class="profile-header">
            <div class="profile-cover">
                <!-- خلفية الملف -->
            </div>
            
            <div class="profile-info">
                <div class="avatar-large">
                    <i class="fas fa-user-circle"></i>
                </div>
                
                <div class="profile-stats">
                    <button class="btn-edit-profile">
                        <i class="fas fa-edit"></i> تعديل الملف
                    </button>
                </div>
                
                <h2 id="profileName">اسم المستخدم</h2>
                <p class="bio" id="profileBio">وصف المستخدم يظهر هنا</p>
                
                <div class="profile-meta">
                    <span><i class="fas fa-map-marker-alt"></i> <span id="profileLocation">المدينة</span></span>
                    <span><i class="fas fa-link"></i> <span id="profileWebsite">موقع إلكتروني</span></span>
                    <span><i class="fas fa-calendar-alt"></i> منضم منذ <span id="joinDate">2024</span></span>
                </div>
            </div>
        </section>
        
        <!-- الإحصائيات -->
        <section class="profile-stats-grid">
            <div class="stat-card">
                <div class="stat-number" id="postsCount">0</div>
                <div class="stat-label">المنشورات</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="followersCount">0</div>
                <div class="stat-label">المتابِعون</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="followingCount">0</div>
                <div class="stat-label">يَتابع</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="likesCount">0</div>
                <div class="stat-label">الإعجابات</div>
            </div>
        </section>
        
        <!-- التنقل في الملف -->
        <nav class="profile-tabs">
            <button class="profile-tab active" data-tab="myQuotes">
                <i class="fas fa-quote-left"></i> اقتباساتي
            </button>
            <button class="profile-tab" data-tab="likedQuotes">
                <i class="fas fa-heart"></i> المعجبات
            </button>
            <button class="profile-tab" data-tab="bookmarks">
                <i class="fas fa-bookmark"></i> المحفوظات
            </button>
        </nav>
        
        <!-- محتوى الملف -->
        <main class="main-content">
            <div class="tab-content active" id="myQuotesTab">
                <div class="quotes-grid" id="myQuotesList">
                    <!-- اقتباسات المستخدم تظهر هنا -->
                </div>
            </div>
            
            <div class="tab-content" id="likedQuotesTab">
                <div class="quotes-grid" id="likedQuotesList">
                    <!-- الاقتباسات المعجبة تظهر هنا -->
                </div>
            </div>
            
            <div class="tab-content" id="bookmarksTab">
                <div class="quotes-grid" id="bookmarksList">
                    <!-- الاقتباسات المحفوظة تظهر هنا -->
                </div>
            </div>
        </main>
        
        <!-- القائمة الجانبية -->
        <div class="profile-sidebar" id="sidebar">
            <div class="sidebar-header">
                <h3>الإعدادات</h3>
                <button class="close-sidebar" id="closeSidebar">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="sidebar-menu">
                <a href="#" class="sidebar-item">
                    <i class="fas fa-user-edit"></i> تعديل الملف الشخصي
                </a>
                <a href="#" class="sidebar-item">
                    <i class="fas fa-bell"></i> الإشعارات
                </a>
                <a href="#" class="sidebar-item">
                    <i class="fas fa-lock"></i> الخصوصية والأمان
                </a>
                <a href="#" class="sidebar-item">
                    <i class="fas fa-palette"></i> المظهر
                </a>
                <a href="#" class="sidebar-item">
                    <i class="fas fa-question-circle"></i> المساعدة
                </a>
                <a href="#" class="sidebar-item">
                    <i class="fas fa-info-circle"></i> عن التطبيق
                </a>
                <button class="sidebar-item logout-btn" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i> تسجيل الخروج
                </button>
            </div>
        </div>
    </div>
    
    <script src="app.js"></script>
    <script src="db.js"></script>
    <script>
        // تحميل بيانات المستخدم
        document.addEventListener('DOMContentLoaded', () => {
            loadProfileData();
            loadUserQuotes();
            setupEventListeners();
        });
        
        function loadProfileData() {
            const user = JSON.parse(localStorage.getItem('user')) || getDefaultUser();
            
            document.getElementById('profileName').textContent = user.fullName || user.username;
            document.getElementById('profileBio').textContent = user.bio || 'لا يوجد وصف';
            document.getElementById('profileLocation').textContent = user.location || 'غير محدد';
            document.getElementById('profileWebsite').textContent = user.website || 'لا يوجد';
            document.getElementById('joinDate').textContent = user.joinDate || '2024';
            
            document.getElementById('postsCount').textContent = user.posts || 0;
            document.getElementById('followersCount').textContent = user.followers || 0;
            document.getElementById('followingCount').textContent = user.following || 0;
            document.getElementById('likesCount').textContent = user.totalLikes || 0;
        }
        
        function getDefaultUser() {
            return {
                fullName: 'مستخدم جديد',
                username: 'user_' + Date.now().toString().slice(-6),
                bio: 'مرحباً! أنا مستخدم جديد في اقتباس',
                location: 'الإنترنت',
                website: 'لا يوجد',
                joinDate: new Date().toISOString().split('T')[0],
                posts: 0,
                followers: 0,
                following: 0,
                totalLikes: 0
            };
        }
        
        function loadUserQuotes() {
            const quotes = getUserQuotes();
            const myQuotesList = document.getElementById('myQuotesList');
            
            myQuotesList.innerHTML = '';
            
            quotes.forEach(quote => {
                const quoteElement = createProfileQuoteElement(quote);
                myQuotesList.appendChild(quoteElement);
            });
        }
        
        function createProfileQuoteElement(quote) {
            const div = document.createElement('div');
            div.className = 'profile-quote';
            
            div.innerHTML = `
                <div class="quote-text">${quote.text}</div>
                <div class="quote-meta">
                    <span class="likes"><i class="fas fa-heart"></i> ${quote.likes}</span>
                    <span class="date">${quote.date}</span>
                </div>
            `;
            
            return div;
        }
        
        function setupEventListeners() {
            // فتح/إغلاق القائمة الجانبية
            document.getElementById('settingsBtn').addEventListener('click', () => {
                document.getElementById('sidebar').classList.add('active');
            });
            
            document.getElementById('closeSidebar').addEventListener('click', () => {
                document.getElementById('sidebar').classList.remove('active');
            });
            
            // التبويبات
            document.querySelectorAll('.profile-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.dataset.tab;
                    
                    // تحديد التبويب النشط
                    document.querySelectorAll('.profile-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // إظهار المحتوى المناسب
                    document.querySelectorAll('.tab-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    document.getElementById(tabId + 'Tab').classList.add('active');
                });
            });
            
            // تسجيل الخروج
            document.getElementById('logoutBtn').addEventListener('click', () => {
                localStorage.removeItem('user');
                window.location.href = 'index.html';
            });
            
            // تعديل الملف
            document.querySelector('.btn-edit-profile').addEventListener('click', () => {
                alert('ميزة تعديل الملف الشخصي قريباً!');
            });
        }
        
        function getUserQuotes() {
            // محاكاة البيانات
            return [
                {
                    id: 1,
                    text: "الحياة مثل ركوب الدراجة، لتظل متوازناً يجب أن تظل تتحرك",
                    likes: 24,
                    date: 'قبل يومين'
                },
                {
                    id: 2,
                    text: "لا تقل لم أفعل شيئاً، فقد شاركت في جعل اليوم يمر",
                    likes: 18,
                    date: 'قبل أسبوع'
                },
                {
                    id: 3,
                    text: "النجاح ليس مفتاح السعادة، السعادة هي مفتاح النجاح",
                    likes: 32,
                    date: 'قبل شهر'
                }
            ];
        }
    </script>
</body>
      </html>
